<html>
<!--<%@page import="java.math.BigInteger"%>-->
<!--<%@page import="java.security.SecureRandom"%>-->
<!--<%@page import="java.net.URLEncoder"%>-->
<!--<%@ page language="java" contentType="text/html; charset=UTF-8"-->
<!--pageEncoding="UTF-8"%>-->

<div th:insert="/include/header_index.html"></div>
<!-- QuickMenu -->
<div th:insert="/include/quickMenu_index.html"></div>


<body>
	<section class="container_member">
		<article class="half">
			<div class="content w-75 py-5 m-auto">
				<form role="form" method="post" enctype="multipart/form-data"
					th:object="${itemFormDTO}">

					<p class="h2">상품 등록</p>

					<input type="hidden" th:field="*{id}">

					<div class="form-group">
						<select th:field="*{itemSellStatus}" class="custom-select">
							<option value="SELL">판매중</option>
							<option value="SOLD_OUT">품절</option>
						</select>
					</div>

					<div class="input-group">
						<div class="input-group-prepend">
							<span class="input-group-text">상품명</span>
						</div>
						<input type="text" th:field="*{itemNm}" class="form-control"
							placeholder="상품명을 입력해주세요">
					</div>
					<p th:if="${#fields.hasErrors('itemNm')}" th:errors="*{itemNm}"
						class="fieldError">Incorrect itemNm data</p>

					<div class="input-group">
						<div class="input-group-prepend">
							<span class="input-group-text">가격</span>
						</div>
						<input type="number" th:field="*{price}" class="form-control"
							placeholder="상품의 가격을 입력해주세요">
					</div>
					<p th:if="${#fields.hasErrors('price')}" th:errors="*{price}"
						class="fieldError">Incorrect price data</p>

					<div class="input-group">
						<div class="input-group-prepend">
							<span class="input-group-text">재고</span>
						</div>
						<input type="number" th:field="*{stockNumber}"
							class="form-control" placeholder="상품의 재고를 입력해주세요">
					</div>
					<p th:if="${#fields.hasErrors('stockNumber')}"
						th:errors="*{stockNumber}" class="fieldError">Incorrect stockNumber data</p>

					<div class="input-group">
						<div class="input-group-prepend">
							<span class="input-group-text">상품 상세 내용</span>
						</div>
						<textarea class="form-control" aria-label="With textarea"
							th:field="*{itemDetail}"></textarea>
					</div>
					<p th:if="${#fields.hasErrors('itemDetail')}"
						th:errors="*{itemDetail}" class="fieldError">Incorrect itemDetail data</p>

					<!-- <div th:if="${#lists.isEmpty(itemFormDTO.itemImgDTOList)}">
						<div class="form-group" th:each="num: ${#numbers.sequence(1,5)}">
							<div class="custom-file img-div">
								<input type="file" class="custom-file-input" name="itemImgFile">
								<label class="custom-file-label" th:text="상품이미지 + ${num}"></label>
							</div>
						</div>
					</div>

					<div th:if="${not #lists.isEmpty(itemFormDTO.itemImgDTOList)}">
						<div class="form-group"
							th:each="itemImgDTO, status: ${itemFormDTO.itemImgDTOList}">
							<div class="custom-file img-div">
								<input type="file" class="custom-file-input" name="itemImgFile">
								<input type="hidden" name="itemImgIds"
									th:value="${itemImgDTO.id}"> <label
									class="custom-file-label"
									th:text="${not #strings.isEmpty(itemImgDTO.oriImgName)} ? ${itemImgDTO.oriImgName} : '상품이미지' + ${status.index+1}"></label>
							</div>
						</div>
					</div> 
					<div th:if="${#strings.isEmpty(itemFormDTO.id)}"
						style="text-align: center">
						<button th:formaction="@{/item/new}" type="submit"
							class="btn btn-primary">저장</button>
					</div>
					<div th:unless="${#strings.isEmpty(itemFormDTO.id)}"
						style="text-align: center">
						<button th:formaction="@{'/item/' + ${itemFormDTO.id} }"
							type="submit" class="btn btn-primary">수정</button>
					</div>
					-->
					
					<!-- <input type="hidden" th:name="${_csrf.parameterName}"
			th:value="${_csrf.token}"> -->

				</form>
			</div>
		</article>
</body>
<div style="height: 470px"></div>
<div th:insert="/include/footer.html"></div>

</html>